# kbddocs: Документация по кастомным клавиатурам

## Назначение репозитория

Репозиторий `kbddocs` предназначен для разработки, хранения и версионирования технической документации по кастомным клавиатурам. Документация подготавливается в формализованном стиле, ориентированном на требования и практики ГОСТ (структура, нумерация разделов, единые термины, таблицы, рисунки, ссылки, требования к оформлению).

Ключевая цель — формирование единого набора материалов, пригодных для сопровождения проектов кастомных клавиатур на протяжении жизненного цикла: от сборки и прошивки до эксплуатации, диагностики и внесения изменений в раскладку.

## Состав и тематика материалов

В репозитории размещаются и развиваются следующие типовые блоки документации:

1. Руководства по прошивке и восстановлению работоспособности
   - прошивка контроллеров в формате UF2;
   - сценарии «settings reset» (очистка параметров и Bluetooth-сопряжений);
   - устранение рассинхронизации половин сплит-клавиатур и типовые признаки в ОС.

2. Руководства по сборке прошивок ZMK
   - локальная сборка без использования git-репозитория с исходниками на локальном ПК;
   - контейнерная сборка (Docker/контейнеры) и воспроизводимость сборочного окружения;
   - генерация прошивок через web-инструменты (редакторы раскладок) и правила подготовки артефактов.

3. Документация по раскладкам и слоям
   - описание слоёв (например: основной слой, числовой, навигационный, системный/настройки);
   - правила переключений, удержаний, модификаторов, макросов;
   - описание Bluetooth-профилей (каналов), переключение выхода USB/BLE, сценарии первичного подключения.

4. Контроль и диагностика кодов клавиш
   - способы проверки кодов нажатий в web-инструментах;
   - способы проверки кодов нажатий в Linux и Windows;
   - соответствие нотаций (keycodes) конфигурациям прошивок и документации.

5. Шаблоны и заготовки документации
   - разделы «термины и сокращения», «область применения», «требования и ограничения», «порядок действий»;
   - унифицированные таблицы (слои/клавиши/действия, Bluetooth-каналы, сочетания и сценарии);
   - примеры оформления ссылок, примечаний и предупреждений в формальном стиле.

6. Диаграммы и схемы
   - схемы процессов прошивки, подключения и восстановления;
   - диаграммы состояний и последовательностей (при необходимости);
   - исходники диаграмм (например, PlantUML) и правила вставки в текст.

## Рекомендуемая структура каталогов

Фактическая структура репозитория может изменяться по мере развития. Для поддержания единообразия рекомендуется придерживаться следующей схемы:

- `docs/`
  - `manuals/` — руководства пользователя (эксплуатация, слои, Bluetooth, быстрый старт)
  - `firmware/` — прошивка, сборка, прошивочные сценарии, восстановление
  - `troubleshooting/` — диагностика, типовые неисправности, контроль признаков в ОС
  - `keycodes/` — нотации, таблицы соответствий, методики проверки кодов
- `templates/`
  - шаблоны разделов, таблиц и типовых формулировок
- `diagrams/`
  - исходники и экспорт схем (например, `.puml`, `.svg`, `.png`)
- `assets/`
  - изображения, иллюстрации, вспомогательные файлы

## Принципы оформления и единообразия

При разработке материалов обеспечиваются:

- единый стиль заголовков и нумерации разделов;
- однозначные термины (например: «профиль Bluetooth», «канал», «выход USB/BLE», «слой раскладки»);
- воспроизводимость процедур (пошаговые инструкции, условия, ожидаемые результаты, примечания);
- трассируемость изменений (история правок в git, понятные сообщения коммитов, ссылки на задачи/обсуждения при наличии);
- разделение «что делать» и «как проверить результат» (ожидаемые признаки в ОС, типовые имена устройств, характерные симптомы).

## Быстрый старт для работы с репозиторием

1. Ознакомиться с разделами:
   - `docs/manuals/` — эксплуатация и раскладка;
   - `docs/firmware/` — сборка и прошивка;
   - `docs/troubleshooting/` — диагностика и восстановление.
2. При добавлении нового документа:
   - создать файл в соответствующем каталоге;
   - заполнить типовые разделы (назначение, область применения, требования, порядок действий, ожидаемые результаты);
   - при наличии схем — добавить исходники в `diagrams/` и включить в документ ссылку/вставку.
3. При изменении раскладки/прошивки:
   - актуализировать описание слоёв, сочетаний и сценариев подключения;
   - обновить таблицы соответствий и контрольные процедуры.

## Правила внесения изменений

Рекомендуемый формат коммитов:

- `docs: ...` — изменения в документации
- `templates: ...` — изменения шаблонов
- `diagrams: ...` — изменения диаграмм и схем
- `firmware: ...` — изменения материалов по сборке/прошивке

Требования к изменениям:

- изменения должны сопровождаться обновлением связанных разделов (например, изменение слоя — обновление таблицы слоя и «быстрого старта»);
- добавленные процедуры должны включать ожидаемый результат и критерии успешности;
- при описании операций прошивки и сброса должны быть указаны условия применения и риски (включая последствия очистки привязок).

## Лицензирование

Режим лицензирования материалов определяется владельцем репозитория. При отсутствии явного файла `LICENSE` следует считать, что права на материалы защищены и повторное использование требует согласования с владельцем.

## Статус

Репозиторий развивается итеративно. Содержимое пополняется руководствами, шаблонами и методиками по мере появления новых клавиатур, контроллеров и вариантов прошивок.
