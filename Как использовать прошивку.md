В архиве Github сформированы **две альтернативные прошивки для двух разных плат (контроллеров)**. Одновременно использовать их на одном и том же контроллере не требуется: выбирается **только файл, соответствующий фактически установленной плате**.

## 1. Какой файл куда прошивать

1. **`revxlp-seeeduino_xiao-zmk.uf2`**
   Назначение: плата **Seeeduino XIAO (SAMD21)**.
   Особенности: как правило, **только проводной режим (USB)**, без Bluetooth.

2. **`revxlp-xiao_ble-zmk.uf2`**
   Назначение: плата **XIAO BLE / XIAO nRF52840**.
   Особенности: поддержка **Bluetooth Low Energy** (и обычно работа по USB тоже возможна).

Определение установленной платы выполняется по маркировке на модуле и/или по наличию радиотракта (антенны) у версии nRF52840. Описание семейства плат XIAO приведено в перечне поддерживаемого железа ZMK. ([zmk.dev][1])

## 2. Порядок прошивки UF2 (для каждого контроллера)

Прошивка UF2 в ZMK выполняется копированием файла на виртуальный USB-накопитель, который появляется в режиме загрузчика. ([zmk.dev][2])

1. Распаковать итоговый архив прошивок.
2. Подключить клавиатуру (или контроллер) к ПК кабелем USB с передачей данных.
3. Перевести контроллер в режим загрузчика (bootloader): **двойное нажатие кнопки Reset** (обычно два быстрых клика). После этого в системе появляется новый USB-накопитель. ([zmk.dev][2])
4. Скопировать **выбранный** файл `.uf2` на появившийся накопитель.
5. Дождаться завершения: накопитель обычно автоматически отключается, контроллер перезагружается.

Примечание: на некоторых ОС возможны сообщения об ошибке копирования в момент отключения накопителя; это часто является ожидаемым поведением, поскольку накопитель «исчезает» сразу после успешной записи UF2. ([zmk.dev][3])

## 3. Если клавиатура состоит из двух половин

* Если в каждой половине установлен **одинаковый тип контроллера**, следует прошить **один и тот же соответствующий UF2** в **каждую половину отдельно** (по очереди, чтобы не перепутать накопители).
* Смешивание разных типов контроллеров (SAMD21 в одной половине и nRF52840 в другой) для типовой конфигурации split в ZMK **не рекомендуется**: различаются аппаратные возможности и ожидаемые роли/транспорт.

## 4. Что делать после прошивки версии XIAO BLE (nRF52840)

Если планируется работа по Bluetooth:

* при необходимости переключить вывод на BLE (в раскладке предусмотрена команда `OUT_TOG`), затем выбрать Bluetooth-профиль (`BT_SEL 0…`) и выполнить сопряжение на стороне хоста.
* для очистки привязок предусмотрена команда `BT_CLR`.

Также в раскладке уже предусмотрена команда `&bootloader`, позволяющая входить в загрузчик с клавиатуры без физической кнопки Reset (после успешной прошивки и запуска прошивки). ([zmk.dev][4])

[1]: https://zmk.dev/docs/hardware?utm_source=chatgpt.com "Supported Hardware"
[2]: https://zmk.dev/docs/user-setup?utm_source=chatgpt.com "Installing ZMK"
[3]: https://zmk.dev/docs/troubleshooting/flashing-issues?utm_source=chatgpt.com "Flashing Issues"
[4]: https://zmk.dev/docs/keymaps/behaviors/reset?utm_source=chatgpt.com "Reset Behaviors"

